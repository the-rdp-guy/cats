!function(e,t){"use strict";window.VAMTAM_FRONT.elementor=window.VAMTAM_FRONT.elementor||{};var n={domLoaded:function(){this.VamtamMainNavHandler.init(),this.VamtamActionLinksHandler.init()},pageLoaded:function(){this.VamtamPopupsHandler.init(),this.VamtamWidgetsHandler.FiboSearchBarWidget()},VamtamPopupsHandler:{init:function(){this.searchFormPopupsGetFocus(),this.absolutelyPositionedPopups(),this.alignedWithSelectorPopups()},searchFormPopupsGetFocus:function(){window.elementorFrontendConfig.kit.vamtam_theme_search_form_popups_get_focus&&elementorFrontend.elements.$window.on("elementor/popup/show",e=>{if(!e.originalEvent)return;let t=e.originalEvent.detail.id,n=e.originalEvent.detail.instance;if(!t||!n)return;let i=n.$element.find('form[role="search"]').length;if(i){let a=n.$element.find('input[type="search"]').first();a.focus(),a.filter('[id^="dgwt-wcas-"]')&&setTimeout(()=>{a.focus()},500)}})},absolutelyPositionedPopups:function(){let e=[];elementorFrontend.elements.$window.on("elementor/popup/show",t=>{if(!t.originalEvent)return;let n=t.originalEvent.detail.id,i=t.originalEvent.detail.instance;if(!n||!i||e.includes(n))return;let a=i.$element.filter('[data-elementor-settings*="vamtam_abs_pos"]').length;a&&(i.$element.closest(`#elementor-popup-modal-${n}`).addClass("vamtam-abs-pos"),e.push(n))})},alignedWithSelectorPopups:function(){let t=[],n=()=>{t.length=0};elementorFrontend.elements.$window.on("elementor/popup/show",n=>{if(!n.originalEvent)return;let i=n.originalEvent.detail.id,a=n.originalEvent.detail.instance;if(!i||!a||t.includes(i))return;let o=a.$element.filter('[data-elementor-settings*="vamtam_align_with_selector"]');if(o.length){let s=a.$element.closest(".dialog-widget-content"),r=o.data("elementorSettings").open_selector,l=r&&e(`${r}:visible`);if(!l.length)return;let d=l[0].getBoundingClientRect();window.requestAnimationFrame(()=>{s.css({top:d.bottom+"px",left:d.left+"px"})}),t.push(i)}}),window.removeEventListener("resize",n),window.addEventListener("resize",n,!0)}},VamtamMainNavHandler:{init:function(){this.fixMenuDrodownScrolling()},fixMenuDrodownScrolling:function(){var t=e(".elementor-location-header .elementor-nav-menu--dropdown-tablet .elementor-nav-menu--dropdown.elementor-nav-menu__container").first(),n=t.siblings(".elementor-menu-toggle")[0];if(t.length&&n.length){var i=function(){if(e(n).hasClass("elementor-active")){var a=e("html").hasClass("ios-safari")?t[0].getBoundingClientRect().top+100:t[0].getBoundingClientRect().top;t.css("max-height","calc(100vh - "+a+"px)"),n.removeEventListener("click",i)}};n.addEventListener("click",i)}}},VamtamActionLinksHandler:{init:function(){this.popupActionLinks()},popupActionLinks:function(){var t=this,n=window.VAMTAM.isBelowMaxDeviceWidth(),i=[],a=function(t,n,i){var a,o=e("#elementor-popup-modal-"+t),s=e(o).find(".dialog-widget-content"),r=window.VAMTAM.adminBarHeight;if(s.length&&n){var l=n.getBoundingClientRect();i?e(s).css({top:"",left:""}):(e(s).css({top:l.bottom-r,left:l.left}),a=setInterval(function(){"none"===e(o).css("display")&&(e(s).css({top:"",left:""}),clearInterval(a))},500))}},o=function(e){i.forEach(function(t){e?a(t.id,t.parent,!0):a(t.id,t.parent)})},s=function(){var e=window.VAMTAM.isBelowMaxDeviceWidth();n!==e?(e?o(!0):o(),n=e):e||o()},r=function(){requestAnimationFrame(function(){o()})},l=function(e,t){var n;i.forEach(function(i){i.id===e&&(i.parent=t,n=!0)}),n||i.push({id:e,parent:t})},d=function(n){var i=e(n.currentTarget).attr("href");if(i){var o=t.utils.getSettingsFromActionLink(i);o&&o.align_with_parent&&(l(o.id,n.currentTarget),window.VAMTAM.isMaxDeviceWidth()&&a(o.id,n.currentTarget),window.removeEventListener("resize",s),window.addEventListener("resize",s,!1),function t(n){let i=e(n).parents(".elementor-element.elementor-widget")[0];if(!i)return;let a=e(i).attr("data-settings");if(!a)return;try{a=JSON.parse(a)}catch(o){return}let s=a.sticky;s&&(window.removeEventListener("scroll",r),window.addEventListener("scroll",r,{passive:!0}))}(n.currentTarget))}};elementorFrontend.elements.$document.on("click",'a[href^="#elementor-action"]',d)},utils:{getSettingsFromActionLink:function(e){if(e=decodeURIComponent(e)){var t=e.match(/settings=(.+)/),n={};return t&&(n=JSON.parse(atob(t[1]))),n}},getActionFromActionLink:function(e){if(e=decodeURIComponent(e)){var t=e.match(/action=(.+?)&/);if(t)return t[1]}}}},VamtamWidgetsHandler:{FiboSearchBarWidget(){n.VamtamWidgetsHandler.isWidgetModActive("wp-widget-dgwt_wcas_ajax_search")&&(e(".dgwt-wcas-suggestions-wrapp").addClass("vamtam-has-theme-widget-styles"),e(".dgwt-wcas-details-wrapp").addClass("vamtam-has-theme-widget-styles"),window.addEventListener("beforeunload",()=>{e(".dgwt-wcas-suggestions-wrapp, .dgwt-wcas-details-wrapp").hide()},{capture:!0}))},isWidgetModActive(e){if(!e)return!1;let t=elementorFrontend.getKitSettings(),n="vamtam_theme_",i=window.VAMTAM_FRONT.widget_mods_list;return!!i[e]&&("yes"===t[`${n}enable_all_widget_mods`]||"yes"!==t[`${n}disable_all_widget_mods`]&&"yes"===t[`${n}${e}`])}}};window.VAMTAM_FRONT.elementor.urlActions=n.VamtamActionLinksHandler.utils,window.VAMTAM_FRONT.elementor.widgets={isWidgetModActive:n.VamtamWidgetsHandler.isWidgetModActive},e(document).ready(function(){n.domLoaded()}),e(window).on("load",function(){n.pageLoaded()});class i extends elementorModules.frontend.handlers.Base{onInit(...e){super.onInit(...e),this.checkAddBaseThemeStylesClass()}checkAddBaseThemeStylesClass(){let t=e("body").hasClass("elementor-editor-active");t&&this.isWidgetModActive()&&this.$element.addClass("vamtam-has-theme-widget-styles")}isWidgetModActive(){let e=this.getElementType();return"widget"===e&&(e=this.getWidgetType()),n.VamtamWidgetsHandler.isWidgetModActive(e)}}jQuery(window).on("elementor/frontend/init",()=>{let e=e=>{elementorFrontend.elementsHandler.addHandler(i,{$element:e})};elementorFrontend.hooks.addAction("frontend/element_ready/global",e)})}(jQuery);
